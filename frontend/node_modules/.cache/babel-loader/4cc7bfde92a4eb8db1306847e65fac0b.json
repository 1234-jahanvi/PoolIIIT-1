{"ast":null,"code":"var _jsxFileName = \"/home/divyam/PoolDjango/frontend/src/components/EditProfile.js\";\nimport React, { Component } from 'react';\nimport { Form, Input, Button } from 'antd';\nimport axios from \"axios\";\nimport { getConfig } from \"../utils/getConfig\";\nimport Loading from './Loading';\nimport { USERS_URL } from '../api/constants';\nimport NotAuthorizedPage from './NotAuthorizedPage';\nimport { connect } from 'react-redux';\n\nclass EditProfile extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: [],\n      loading: true,\n      errorStatus: null\n    };\n\n    this.onFinish = values => {\n      const uname = this.props.match.params.uname;\n      axios.put(`${USERS_URL}/${uname}/`, {\n        first_name: values.first_name,\n        last_name: values.last_name,\n        email: values.email,\n        phone: values.phone\n      }, getConfig()).then(res => {\n        console.log(res);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  componentDidMount() {\n    const uname = this.props.match.params.uname;\n    axios.get(`${USERS_URL}/${uname}/`, getConfig()).then(res => {\n      this.setState({\n        user: res.data,\n        loading: false\n      });\n    }).catch(err => {\n      console.log(err);\n      this.setState({\n        loading: false,\n        errorStatus: err.response.status\n      });\n    });\n  }\n\n  render() {\n    const notAuthorized = () => {\n      if (this.state.user.username == this.props.username) {\n        return false;\n      }\n\n      return true;\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, this.state.loading ? /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 38\n      }\n    }) : this.state.errorStatus ? /*#__PURE__*/React.createElement(NotAuthorizedPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 42\n      }\n    }) : notAuthorized ? /*#__PURE__*/React.createElement(NotAuthorizedPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 33\n      }\n    }) : /*#__PURE__*/React.createElement(Form, {\n      name: \"EditDetails\",\n      layout: \"vertical\",\n      initialValues: this.state.user,\n      onFinish: this.onFinish,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"first_name\",\n      label: \"First name\",\n      rules: [{\n        required: true,\n        message: 'First name is required!'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"last_name\",\n      label: \"Last name\",\n      rules: [{\n        required: true,\n        message: 'Last name is required!'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"email\",\n      label: \"Email\",\n      rules: [{\n        type: 'email',\n        message: 'The input is not valid E-mail!'\n      }, {\n        required: true,\n        message: 'Please input your E-mail!'\n      }],\n      hasFeedback: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"phone\",\n      label: \"Phone number\",\n      rules: [{\n        required: true,\n        message: 'Please input your phone number!'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }, \"Edit\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    username: state.username\n  };\n};\n\nexport default connect(mapStateToProps, null)(EditProfile);","map":{"version":3,"sources":["/home/divyam/PoolDjango/frontend/src/components/EditProfile.js"],"names":["React","Component","Form","Input","Button","axios","getConfig","Loading","USERS_URL","NotAuthorizedPage","connect","EditProfile","state","user","loading","errorStatus","onFinish","values","uname","props","match","params","put","first_name","last_name","email","phone","then","res","console","log","catch","err","componentDidMount","get","setState","data","response","status","render","notAuthorized","username","required","message","type","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,MAAtB,QAAoC,MAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,SAASC,OAAT,QAAwB,aAAxB;;AAGA,MAAMC,WAAN,SAA0BV,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAEhCW,KAFgC,GAExB;AACJC,MAAAA,IAAI,EAAE,EADF;AAEJC,MAAAA,OAAO,EAAE,IAFL;AAGJC,MAAAA,WAAW,EAAE;AAHT,KAFwB;;AAAA,SA0BhCC,QA1BgC,GA0BpBC,MAAD,IAAY;AACnB,YAAMC,KAAK,GAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,KAAtC;AACAb,MAAAA,KAAK,CAACiB,GAAN,CAAW,GAAEd,SAAU,IAAGU,KAAM,GAAhC,EAAmC;AAC/BK,QAAAA,UAAU,EAAEN,MAAM,CAACM,UADY;AAE/BC,QAAAA,SAAS,EAAEP,MAAM,CAACO,SAFa;AAG/BC,QAAAA,KAAK,EAAER,MAAM,CAACQ,KAHiB;AAI/BC,QAAAA,KAAK,EAAET,MAAM,CAACS;AAJiB,OAAnC,EAKGpB,SAAS,EALZ,EAMKqB,IANL,CAMWC,GAAD,IAAS;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,OARL,EASKG,KATL,CASYC,GAAD,IAAS;AACZH,QAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACH,OAXL;AAaH,KAzC+B;AAAA;;AAQhCC,EAAAA,iBAAiB,GAAG;AAChB,UAAMf,KAAK,GAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,KAAtC;AACAb,IAAAA,KAAK,CAAC6B,GAAN,CAAW,GAAE1B,SAAU,IAAGU,KAAM,GAAhC,EAAoCZ,SAAS,EAA7C,EACKqB,IADL,CACWC,GAAD,IAAS;AACX,WAAKO,QAAL,CAAc;AACVtB,QAAAA,IAAI,EAAEe,GAAG,CAACQ,IADA;AAEVtB,QAAAA,OAAO,EAAE;AAFC,OAAd;AAIH,KANL,EAOKiB,KAPL,CAOYC,GAAD,IAAS;AACZH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACA,WAAKG,QAAL,CAAc;AACVrB,QAAAA,OAAO,EAAE,KADC;AAEVC,QAAAA,WAAW,EAAEiB,GAAG,CAACK,QAAJ,CAAaC;AAFhB,OAAd;AAIH,KAbL;AAcH;;AAmBDC,EAAAA,MAAM,GAAG;AACL,UAAMC,aAAa,GAAG,MAAM;AACxB,UAAG,KAAK5B,KAAL,CAAWC,IAAX,CAAgB4B,QAAhB,IAA4B,KAAKtB,KAAL,CAAWsB,QAA1C,EAAoD;AAChD,eAAO,KAAP;AACH;;AACD,aAAO,IAAP;AACH,KALD;;AAMA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI,KAAK7B,KAAL,CAAWE,OAAX,gBAAqB,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAArB,GACA,KAAKF,KAAL,CAAWG,WAAX,gBAAyB,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAzB,GACAyB,aAAa,gBAAG,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAH,gBACb,oBAAC,IAAD;AACI,MAAA,IAAI,EAAC,aADT;AAEI,MAAA,MAAM,EAAC,UAFX;AAGI,MAAA,aAAa,EAAE,KAAK5B,KAAL,CAAWC,IAH9B;AAII,MAAA,QAAQ,EAAE,KAAKG,QAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAMI,oBAAC,IAAD,CAAM,IAAN;AACI,MAAA,IAAI,EAAC,YADT;AAEI,MAAA,KAAK,EAAC,YAFV;AAGI,MAAA,KAAK,EAAE,CACH;AACI0B,QAAAA,QAAQ,EAAE,IADd;AAEIC,QAAAA,OAAO,EAAE;AAFb,OADG,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAUI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVJ,CANJ,eAmBI,oBAAC,IAAD,CAAM,IAAN;AACI,MAAA,IAAI,EAAC,WADT;AAEI,MAAA,KAAK,EAAC,WAFV;AAGI,MAAA,KAAK,EAAE,CACH;AACID,QAAAA,QAAQ,EAAE,IADd;AAEIC,QAAAA,OAAO,EAAE;AAFb,OADG,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAUI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVJ,CAnBJ,eAgCI,oBAAC,IAAD,CAAM,IAAN;AACI,MAAA,IAAI,EAAC,OADT;AAEI,MAAA,KAAK,EAAC,OAFV;AAGI,MAAA,KAAK,EAAE,CACH;AACIC,QAAAA,IAAI,EAAE,OADV;AAEID,QAAAA,OAAO,EAAE;AAFb,OADG,EAKH;AACID,QAAAA,QAAQ,EAAE,IADd;AAEIC,QAAAA,OAAO,EAAE;AAFb,OALG,CAHX;AAaI,MAAA,WAAW,MAbf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAeI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAfJ,CAhCJ,eAkDI,oBAAC,IAAD,CAAM,IAAN;AACI,MAAA,IAAI,EAAC,OADT;AAEI,MAAA,KAAK,EAAC,cAFV;AAGI,MAAA,KAAK,EAAE,CACH;AACID,QAAAA,QAAQ,EAAE,IADd;AAEIC,QAAAA,OAAO,EAAE;AAFb,OADG,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAUA,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVA,CAlDJ,eA+DI,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,QAAQ,EAAC,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA/DJ,CALJ,CADJ;AA4EH;;AA9H+B;;AAiIpC,MAAME,eAAe,GAAIjC,KAAD,IAAW;AAC/B,SAAO;AACH6B,IAAAA,QAAQ,EAAE7B,KAAK,CAAC6B;AADb,GAAP;AAGH,CAJD;;AAMA,eAAe/B,OAAO,CAACmC,eAAD,EAAkB,IAAlB,CAAP,CAA+BlC,WAA/B,CAAf","sourcesContent":["import React, { Component } from 'react'\nimport { Form, Input, Button } from 'antd';\nimport axios from \"axios\";\nimport { getConfig } from \"../utils/getConfig\";\nimport Loading from './Loading';\nimport { USERS_URL } from '../api/constants';\nimport NotAuthorizedPage from './NotAuthorizedPage';\nimport { connect } from 'react-redux';\n\n\nclass EditProfile extends Component {\n\n    state = {\n        user: [],\n        loading: true,\n        errorStatus: null\n    }\n\n    componentDidMount() {\n        const uname = this.props.match.params.uname;\n        axios.get(`${USERS_URL}/${uname}/`, getConfig())\n            .then((res) => {\n                this.setState({\n                    user: res.data,\n                    loading: false,\n                });\n            })\n            .catch((err) => {\n                console.log(err);\n                this.setState({\n                    loading: false,\n                    errorStatus: err.response.status,\n                });\n            });\n    };\n\n    onFinish = (values) => {\n        const uname = this.props.match.params.uname;\n        axios.put(`${USERS_URL}/${uname}/`,{\n            first_name: values.first_name,\n            last_name: values.last_name,\n            email: values.email,\n            phone: values.phone,\n        }, getConfig())\n            .then((res) => {\n                console.log(res);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n\n    }\n\n    render() {\n        const notAuthorized = () => {\n            if(this.state.user.username == this.props.username) {\n                return false;\n            }\n            return true;\n        } \n        return (\n            <div> \n            {\n                this.state.loading ? <Loading/> :\n                this.state.errorStatus ? <NotAuthorizedPage/> :\n                notAuthorized ? <NotAuthorizedPage/> :\n                <Form\n                    name=\"EditDetails\"\n                    layout=\"vertical\"\n                    initialValues={this.state.user}\n                    onFinish={this.onFinish}\n                >\n                    <Form.Item\n                        name=\"first_name\"\n                        label=\"First name\"\n                        rules={[\n                            {\n                                required: true,\n                                message: 'First name is required!',\n                            },\n                        ]}\n                    >\n                        <Input />\n                    </Form.Item>\n\n                    <Form.Item\n                        name=\"last_name\"\n                        label=\"Last name\"\n                        rules={[\n                            {\n                                required: true,\n                                message: 'Last name is required!',\n                            },\n                        ]}\n                    >\n                        <Input />\n                    </Form.Item>\n\n                    <Form.Item\n                        name=\"email\"\n                        label=\"Email\"\n                        rules={[\n                            {\n                                type: 'email',\n                                message: 'The input is not valid E-mail!',\n                            },\n                            {\n                                required: true,\n                                message: 'Please input your E-mail!',\n                            },\n                        ]}\n                        hasFeedback\n                    >\n                        <Input />\n                    </Form.Item>\n\n                    <Form.Item\n                        name=\"phone\"\n                        label=\"Phone number\"\n                        rules={[\n                            {\n                                required: true,\n                                message: 'Please input your phone number!',\n                            },\n                        ]}\n                    >\n                    <Input/>\n                    </Form.Item>\n\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        Edit\n                    </Button>\n                </Form>\n            }\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        username: state.username,\n    }\n}\n\nexport default connect(mapStateToProps, null)(EditProfile);\n"]},"metadata":{},"sourceType":"module"}