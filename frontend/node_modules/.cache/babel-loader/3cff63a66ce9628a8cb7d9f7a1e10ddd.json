{"ast":null,"code":"var _jsxFileName = \"/home/divyam/PoolDjango/frontend/src/components/UserProfile.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport { Button, Typography } from 'antd';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport NotAuthorizedPage from './NotAuthorizedPage';\nimport NotFoundPage from \"./NotFoundPage\";\nimport Loading from './Loading';\nimport { getConfig } from \"../utils/getConfig\";\nimport { USERS_URL } from '../api/constants';\nconst {\n  Paragraph\n} = Typography;\n\nconst Page = (state, props) => {\n  const {\n    user,\n    errorStatus,\n    loading\n  } = state;\n  const {\n    username\n  } = props;\n  if (loading) return /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 24\n    }\n  });\n\n  if (errorStatus) {\n    if (errorStatus === 404) return /*#__PURE__*/React.createElement(NotFoundPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 40\n      }\n    });\n    if (errorStatus === 401) return /*#__PURE__*/React.createElement(NotAuthorizedPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 40\n      }\n    });\n  }\n\n  if (username === user.username) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: style,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }\n    }, \"Your Profile (\", user.username, \")\"), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }\n    }, \"Name:\"), \" \", /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 32\n      }\n    }, user.first_name + \" \" + user.last_name, \" \"), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }\n    }, \"Email:\"), \" \", /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 33\n      }\n    }, user.email), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }\n    }, \"Phone number:\"), \" \", /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 40\n      }\n    }, user.phone, \" \"), /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/users/\" + username + \"/edit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 40\n      }\n    }, \"Edit Profile\")));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, user.username, \"'s Profile\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, \"Name:\"), \" \", /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 28\n    }\n  }, user.first_name + \" \" + user.last_name, \" \"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, \"Email:\"), \" \", /*#__PURE__*/React.createElement(Paragraph, {\n    copyable: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 29\n    }\n  }, user.email), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"Phone number:\"), \" \", /*#__PURE__*/React.createElement(Paragraph, {\n    copyable: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 36\n    }\n  }, user.phone, \" \"));\n};\n\nclass UserProfile extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: [],\n      loading: true,\n      errorStatus: null\n    };\n  }\n\n  componentDidMount() {\n    const uname = this.props.match.params.uname;\n    axios.get(`http://127.0.0.1:8000/users/${uname}`, getConfig()).then(res => {\n      this.setState({\n        user: res.data,\n        errorStatus: null,\n        loading: false\n      });\n    }).catch(err => {\n      this.setState({\n        errorStatus: err.response.status,\n        loading: false\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    const uname = this.props.match.params.uname;\n\n    if (uname !== prevProps.match.params.uname) {\n      axios.get(`${USERS_URL}/${uname}/`, getConfig()).then(res => {\n        this.setState({\n          user: res.data,\n          errorStatus: null,\n          loading: false\n        });\n      }).catch(err => {\n        this.setState({\n          errorStatus: err.response.status,\n          loading: false\n        });\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Page, {\n      state: this.state,\n      props: this.props,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nconst style = {\n  textAlign: 'center'\n};\n\nconst mapStateToProps = state => {\n  return {\n    username: state.username\n  };\n};\n\nexport default connect(mapStateToProps, null)(UserProfile);","map":{"version":3,"sources":["/home/divyam/PoolDjango/frontend/src/components/UserProfile.js"],"names":["React","Component","axios","Button","Typography","connect","Link","NotAuthorizedPage","NotFoundPage","Loading","getConfig","USERS_URL","Paragraph","Page","state","props","user","errorStatus","loading","username","style","first_name","last_name","email","phone","UserProfile","componentDidMount","uname","match","params","get","then","res","setState","data","catch","err","response","status","componentDidUpdate","prevProps","render","textAlign","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from \"axios\";\nimport { Button, Typography } from 'antd';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport NotAuthorizedPage from './NotAuthorizedPage';\nimport NotFoundPage from \"./NotFoundPage\"\nimport Loading from './Loading';\nimport { getConfig } from \"../utils/getConfig\";\nimport { USERS_URL } from '../api/constants';\n\nconst { Paragraph } = Typography;\n\nconst Page = (state, props) => {\n    const {user, errorStatus, loading} = state\n    const {username} = props\n\n    if(loading) return <Loading/> \n\n    if(errorStatus) {\n        if(errorStatus === 404) return <NotFoundPage/>\n        if(errorStatus === 401) return <NotAuthorizedPage/>\n    }\n\n    if(username === user.username) {\n        return (\n            <div>\n                <h1 style={style}>Your Profile ({user.username})</h1>\n                <h3>Name:</h3> <p>{user.first_name + \" \" + user.last_name} </p>\n                <h3>Email:</h3> <p>{user.email}</p> \n                <h3>Phone number:</h3> <p>{user.phone} </p>\n                <Button type=\"primary\"><Link to={\"/users/\"+username+\"/edit\"}>Edit Profile</Link></Button>\n            </div>\n        )\n    }\n\n    return (\n        <div>\n            <h1 style={style}>{user.username}'s Profile</h1>\n            <h3>Name:</h3> <p>{user.first_name + \" \" + user.last_name} </p>\n            <h3>Email:</h3> <Paragraph copyable>{user.email}</Paragraph> \n            <h3>Phone number:</h3> <Paragraph copyable>{user.phone} </Paragraph>\n        </div>\n    );\n}\n\nclass UserProfile extends Component {\n\n    state = {\n        user: [],\n        loading: true,\n        errorStatus: null\n    };\n\n    componentDidMount() {\n        const uname = this.props.match.params.uname;\n        axios.get(`http://127.0.0.1:8000/users/${uname}`, getConfig())\n            .then((res) => {\n                this.setState({\n                    user: res.data,\n                    errorStatus: null,\n                    loading: false,\n                });\n            })\n            .catch((err) => {\n                this.setState({\n                    errorStatus: err.response.status,\n                    loading: false,\n                })\n            });\n    };\n\n    componentDidUpdate(prevProps) {\n        const uname = this.props.match.params.uname;\n        if (uname !== prevProps.match.params.uname) {\n        axios.get(`${USERS_URL}/${uname}/`, getConfig())\n            .then((res) => {\n                this.setState({\n                    user: res.data,\n                    errorStatus: null,\n                    loading: false,\n                });\n            })\n            .catch((err) => {\n                this.setState({\n                    errorStatus: err.response.status,\n                    loading: false\n                })\n            });\n        }\n    }\n    \n    render() {\n        return (\n            <div>\n                <Page state={this.state} props={this.props}/>\n            </div>\n        )\n    }\n}\n\n\nconst style = {\n    textAlign: 'center'\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        username: state.username,\n    }\n}\n\nexport default connect(mapStateToProps, null)(UserProfile);\n"]},"metadata":{},"sourceType":"module"}