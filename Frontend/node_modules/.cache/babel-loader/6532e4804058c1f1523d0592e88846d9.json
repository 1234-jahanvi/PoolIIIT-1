{"ast":null,"code":"var _jsxFileName = \"/home/divyam/PoolDjango/frontend/src/components/EditProfile.js\";\nimport React, { Component } from 'react';\nimport { Form, Input, Button } from 'antd';\nimport axios from \"axios\";\nimport { getConfig } from \"../utils/getConfig\";\nimport Loading from './Loading';\nimport { USERS_URL } from '../api/constants';\n\nconst EditForm = (state, onFinish) => {\n  if (state.loading) return /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 30\n    }\n  });\n  return /*#__PURE__*/React.createElement(Form, {\n    name: \"EditDetails\",\n    layout: \"vertical\",\n    initialValues: state.user,\n    onFinish: onFinish,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"first_name\",\n    label: \"First name\",\n    rules: [{\n      required: true,\n      message: 'First name is required!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"last_name\",\n    label: \"Last name\",\n    rules: [{\n      required: true,\n      message: 'Last name is required!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"email\",\n    label: \"Email\",\n    rules: [{\n      type: 'email',\n      message: 'The input is not valid E-mail!'\n    }, {\n      required: true,\n      message: 'Please input your E-mail!'\n    }],\n    hasFeedback: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"phone\",\n    label: \"Phone number\",\n    rules: [{\n      required: true,\n      message: 'Please input your phone number!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \"Edit\"));\n};\n\nclass EditProfile extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: [],\n      loading: true,\n      errorStatus: null\n    };\n\n    this.onFinish = values => {\n      const uname = this.props.match.params.uname;\n      axios.put(`${USERS_URL}/${uname}/`, {\n        first_name: values.first_name,\n        last_name: values.last_name,\n        email: values.email,\n        phone: values.phone\n      }, getConfig()).then(res => {\n        console.log(res);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  componentDidMount() {\n    const uname = this.props.match.params.uname;\n    axios.get(`${USERS_URL}/${uname}/`, getConfig()).then(res => {\n      this.setState({\n        user: res.data,\n        loading: false\n      });\n    }).catch(err => {\n      console.log(err);\n      this.setState({\n        loading: false,\n        errorStatus: err.response.status\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(EditForm, {\n      state: this.state,\n      onFinish: this.onFinish(values),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default EditProfile;","map":{"version":3,"sources":["/home/divyam/PoolDjango/frontend/src/components/EditProfile.js"],"names":["React","Component","Form","Input","Button","axios","getConfig","Loading","USERS_URL","EditForm","state","onFinish","loading","user","required","message","type","EditProfile","errorStatus","values","uname","props","match","params","put","first_name","last_name","email","phone","then","res","console","log","catch","err","componentDidMount","get","setState","data","response","status","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Form, Input, Button } from 'antd';\nimport axios from \"axios\";\nimport { getConfig } from \"../utils/getConfig\";\nimport Loading from './Loading';\nimport { USERS_URL } from '../api/constants';\n\n\nconst EditForm = (state, onFinish) => {\n\n    if(state.loading) return <Loading/>\n    return (\n        <Form\n        name=\"EditDetails\"\n        layout=\"vertical\"\n        initialValues={state.user}\n        onFinish={onFinish}\n    >\n        <Form.Item\n            name=\"first_name\"\n            label=\"First name\"\n            rules={[\n                {\n                    required: true,\n                    message: 'First name is required!',\n                },\n            ]}\n        >\n            <Input />\n        </Form.Item>\n    \n        <Form.Item\n            name=\"last_name\"\n            label=\"Last name\"\n            rules={[\n                {\n                    required: true,\n                    message: 'Last name is required!',\n                },\n            ]}\n        >\n            <Input />\n        </Form.Item>\n    \n        <Form.Item\n            name=\"email\"\n            label=\"Email\"\n            rules={[\n                {\n                    type: 'email',\n                    message: 'The input is not valid E-mail!',\n                },\n                {\n                    required: true,\n                    message: 'Please input your E-mail!',\n                },\n            ]}\n            hasFeedback\n        >\n            <Input />\n        </Form.Item>\n    \n        <Form.Item\n            name=\"phone\"\n            label=\"Phone number\"\n            rules={[\n                {\n                    required: true,\n                    message: 'Please input your phone number!',\n                },\n            ]}\n        >\n        <Input/>\n        </Form.Item>\n    \n        <Button type=\"primary\" htmlType=\"submit\">\n            Edit\n        </Button>\n    </Form>    \n    );\n\n}\n\n\nclass EditProfile extends Component {\n\n    state = {\n        user: [],\n        loading: true,\n        errorStatus: null\n    }\n\n    componentDidMount() {\n        const uname = this.props.match.params.uname;\n        axios.get(`${USERS_URL}/${uname}/`, getConfig())\n            .then((res) => {\n                this.setState({\n                    user: res.data,\n                    loading: false,\n                });\n            })\n            .catch((err) => {\n                console.log(err);\n                this.setState({\n                    loading: false,\n                    errorStatus: err.response.status,\n                });\n            });\n    };\n\n    onFinish = (values) => {\n        const uname = this.props.match.params.uname;\n        axios.put(`${USERS_URL}/${uname}/`,{\n            first_name: values.first_name,\n            last_name: values.last_name,\n            email: values.email,\n            phone: values.phone,\n        }, getConfig())\n            .then((res) => {\n                console.log(res);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n\n    }\n\n    render() {\n        return (\n            <div> \n                <EditForm state={this.state} onFinish={this.onFinish(values)} />\n            </div>\n        )\n    }\n}\n\n\nexport default EditProfile;\n"]},"metadata":{},"sourceType":"module"}